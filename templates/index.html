{% extends "layout.html" %}

{% block body %}

    <div class="Container">
        <p>Upload PDF:</p>
        <form method="POST" enctype="multipart/form-data">
            <input autofocus required placeholder="Choose pdf" name="pdf" autocomplete="off" type="file">
            <button type="submit">Convert</button>
        </form>
    </div>

{% endblock %}

{% block scripts %}
    {{ super() }}
    <script>
        // script for user-friendly error messages
        document.addEventListener("DOMContentLoaded", function() {
            const urlParams = new URLSearchParams(window.location.search);
            const error = urlParams.get("error");

            if (error === "upload_not_allowed") {
                console.log("the condition checks out")
                alert("Error: Invalid file type!\n\nPlease upload a PDF.")
            }

            if (error === "file_size_limit_exceeded") {
                console.log("the condition checks out")
                alert("Error: File Size Limit Exceeded!\n\nThe file you are trying to upload exceeds the maximum allowed size of 3 megabytes.\nPlease upload a smaller file.");
            }

            if (error === "not_found") {
                alert("Error: File/Site not found\n\nThey say not all who wander are lost but you, friend, most definitely are.");
            }

            if (error === "no_file") {
                alert("Error: Choose a file.")
            }
        });
    </script>
{% endblock %}

{% block styles %}
    {{ super() }}
    <style>
        html {
            box-sizing: border-box;
            width: 100%;
            height: 100%;
            text-size-adjust: 100%;
            view-transition-name: none;
        }

        *,
        ::before,
        ::after {
            box-sizing: inherit;
        }

        ::selection {
            background: #505cd8;
            color: #f5f5f5;
        }

        body {
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
            background-color: #f5f5f5;
            font-family: "Source Sans 3", "Inter", sans-serif;
            line-height: normal;
            font-size: 16px;
            box-sizing: inherit;
            display: block;
            min-width: none;
            max-width: 960px;
            margin: 0 auto;
            padding: 0px 20px 0px;
        }

        button, input, input[type="file"] {
            -webkit-font-smoothing: antialiased;
            font-family: inherit;
            font-size: inherit;
            box-sizing: border-box;
            border: 1px solid #003c74;
            background: linear-gradient(180deg, rgba(255, 255, 255, 1) 0%, rgba(236, 235, 229, 1) 86%, rgba(216, 208, 196, 1) 100%);
            box-shadow: none;
            border-radius: 3px;
        }
        button:active, input:active, input[type="file"]:active {
            box-shadow: none;
            background: linear-gradient(180deg, rgba(205, 202, 195, 1) 0%, rgba(227, 227, 219, 1) 8%, rgba(229, 229, 222, 1) 94%, rgba(242, 242, 241, 1) 100%);
        }
        button:hover, input:hover, input[type="file"]:hover {
            box-shadow: inset -1px 1px #fff0cf, inset 1px 2px #fdd889, inset -2px 2px #fbc761, inset 2px -2px #e5a01a;
        }
        button:focus, input:focus, input[type="file"]:focus {
            box-shadow: inset -1px 1px #cee7ff, inset 1px 2px #98b8ea, inset -2px 2px #bcd4f6, inset 1px -1px #89ade4, inset 2px -2px #89ade4;
        }
        button::-moz-focus-inner, input::-moz-focus-inner, input[type="file"]::-moz-focus-inner {
            border: 0;
        }

        /* div {
            width: 50%;
            height: 50%;
        } */

        .Container {
            display: grid;
            align-items: center;
            /* justify-content: center; */
            /* height: 100vh; */
        }

    </style>
{% endblock %}
